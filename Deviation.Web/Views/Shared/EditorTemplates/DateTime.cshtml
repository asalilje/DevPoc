@model DateTime?

@(Model == null || Model.Value == DateTime.MinValue ? Html.TextBox("", DateTime.Now.ToString("yyyy-MM-dd"), new {@class = "date"}) : Html.TextBox("", Model.Value.ToString("yyyy-MM-dd"), new {@class = "date"}))

    
@{
var name = ViewData.TemplateInfo.HtmlFieldPrefix;
var id = name.Replace( ".", "_" );
}
<script type="text/javascript">
    $(document).ready(function () {
        $('#@id').datepicker
            ({
                dateFormat: 'yy-mm-dd',
                numberOfMonths: 1,
                showAnim: "scale",

            });
    });
</script>
